<!DOCTYPE html>
<html>
 <head>
 <meta charset="utf-8" />
 <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
 <link rel="stylesheet" href="https://js.arcgis.com/4.21/esri/themes/light/main.css" />
 <style>
  html,
  body,
  #viewDiv {
  padding: 0;
  margin: 0;
  height: 100%;
  width: 100%;
  }
 </style>
<script src="https://js.arcgis.com/4.21/"></script>
<script>

  // require(["esri/views/MapView", "esri/WebMap"], (MapView, WebMap) => {
  //   const webmap = new WebMap({
  //     portalItem: {
  //       //autocasts as new portalItem()
  //       id: "fa96bca2d5be474b81d9450a06cc892b"
  //     }
  //   });
  //   const view = new MapView({
  //     map: webmap,
  //     container: "viewDiv"
  //
  //   });
  require(["esri/config","esri/Map", "esri/views/MapView",  "esri/layers/FeatureLayer"], function (esriConfig,Map, MapView, FeatureLayer) {
   esriConfig.apiKey = "AAPK14c52bab983d47d4be3e8de9771e61210cixlZTNPA5bTMSECg_6vTBv0b3X-jzI3vHYCE1umoewMoY9GJoueXVOEcw7akv_";
   const map = new Map({
     basemap: "dark-gray" // Basemap layer service
   });
   const view = new MapView({
     map: map,
     center: [-100, 38], // Longitude, latitude
     zoom: 5, // Zoom level
     container: "viewDiv" // Div element
   });

//This is where I call the county shapefile from my developer account
 // const us_counties = new FeatureLayer({
 //   url: "https://services1.arcgis.com/M68M8H7oABBFs1Pf/arcgis/rest/services/US_Counties/FeatureServer/0"
 // });
 // map.add(us_counties);
//If you dont have access to the private shapefile you still can call
 // Define a pop-up for Trailheads
 const popupTrailheads = {
   "title": "Trailhead",
   "content": "<b>Trail:</b> {TRL_NAME}<br><b>City:</b> {CITY_JUR}<br><b>Cross Street:</b> {X_STREET}<br><b>Parking:</b> {PARKING}<br><b>Elevation:</b> {ELEV_FT} ft"
 }

 // The layer comes from arcgis servers:
  const trailheads = new FeatureLayer({
   url: "https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trailheads_Styled/FeatureServer/0",
   outFields: ["TRL_NAME","CITY_JUR","X_STREET","PARKING","ELEV_FT"],
   popupTemplate: popupTrailheads
 });

  //add the trail
 map.add(trailheads);

//Another public layer coming from ESRI
 const layer = new FeatureLayer({

   url: "https://services2.arcgis.com/FiaPA4ga0iQKduv3/arcgis/rest/services/HUD_Regions/FeatureServer/0"

 });

 map.add(layer);

 });

</script>
 </head>
 <body>
 <div id="viewDiv"></div>
</body>
</html>
