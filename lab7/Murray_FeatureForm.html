<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Intro to MapView - Create a 2D map</title>
    <style>
          html,
          body,
          #viewDiv {
            padding: 0;
            margin: 0;
            height: 80%;
            width: 100%;
          }
        </style>
    <link rel="stylesheet" href="https://js.arcgis.com/4.21/esri/themes/light/main.css" />
    <script src="https://js.arcgis.com/4.21/"></script>
    <script>
      require(["esri/Map", "esri/views/MapView", "esri/form/FormTemplate", "esri/widgets/FeatureForm", "esri/Graphic", "esri/form/elements/GroupElement", "esri/form/elements/FieldElement"], (Map, MapView, FormTemplate, FeatureForm, Graphic, GroupElement, FieldElement) => {
        const map = new Map({
          basemap: "topo-vector"
        });
        const Myview = new MapView({
          container: "viewDiv", // Reference to the view div created in step 5
          map: map, // Reference to the map object created before the view
          zoom: 3, // Sets zoom level based on level of detail (LOD)
          center: [-98, 40] // Sets center point of view using longitude,latitude
        });
//

        var polyline = {
          type: "polyline",  // autocasts as new Polyline()
          paths: [
            [-111.30, 52.68],
            [-98, 49.5],
            [-93.94, 29.89]
          ]
        };
//
        var polylineSymbol = {
          type: "simple-line",  // autocasts as SimpleLineSymbol()
          color: [226, 119, 40],
          width: 4
        };
//
        var polylineAtt = {
          Name: "Keystone Pipeline",
          Owner: "TransCanada"
        };
//
        var polylineGraphic = new Graphic({
          geometry: polyline,
          symbol: polylineSymbol,
          attributes: polylineAtt
        });
        const fieldElement1 = new FieldElement({
          fieldName: "inspector",
          label: "Inspector name"
        });

        const fieldElement2 = new FieldElement({
          fieldName: "inspdate",
          label: "Inspection date",
          description: "Date inspection was handled",
          input: { // autocastable to DateTimePickerInput
            type: "datetime-picker",
            includeTime: true,
            min: 1547678342000,
            max: 1610836742000
          }
        });
        const fieldElement3 = new FieldElement({
          fieldName: "placename",
          label: "Business name",
          editable: false
        });

// Create the group element and pass in elements from above
  const groupElement = new GroupElement({
    label: "Business contact information",
    description: "Enter the business contact name",
    elements:[fieldElement1, fieldElement2, fieldElement3]
  });
        const mytemplate = new FormTemplate({
          title: "Inspector report",
          description: "Enter all relevant information below",
          elements: [groupElement] // Add all elements to the template
});

//
//         // creating my widget
        const featureForm = new FeatureForm({
          //creating the div or physical location of the form
          container: "formDiv",
          //adding in the feature
          feature: polylineGraphic,
          //specifying the forms template
          formTemplate: mytemplate
        });
        //adding my widget to the view
    Myview.graphics.add(polylineGraphic);

Myview.ui.add(featureForm, "top-right");
//
      });
    </script>
  </head>
  <body>
    <div id="viewDiv"></div>
    <div id="formDiv"></div>
  </body>
</html>
